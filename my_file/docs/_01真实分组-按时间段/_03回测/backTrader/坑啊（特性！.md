太娇贵了！

喂进去的价格 居然不能是nan
“地雷”引爆】:

order_target_percent 函数在计算需要买多少股之前，它需要知道当前投资组合的总价值（Total Portfolio Value）。

于是，它在内部调用了 self.broker.getvalue()。

getvalue() 函数为了计算总市值，它需要遍历所有存在于 Cerebro 中的数据源（self.datas），获取它们今天的价格，然后乘以持仓股数，最后加上现金。

当它遍历到 STOCK_B 时，它发现 STOCK_B 在今天的价格是 NaN！

一个包含 NaN 的数学运算，其结果永远是 NaN。

因此，self.broker.getvalue() 函数的返回值，变成了 NaN！