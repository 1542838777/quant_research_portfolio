仅仅只是思想：无论任何阶段，所用数据都不能用的是t日的
--我当初的反驳：我们反正都要做shift的，还担心啥

--这个反驳很苍白：比如t日 某公司出奇的变强了，某因子数值变得特别好！ ，你吧这个t日因子值，shift ，也就延迟了一天，后面这天依旧凭借这个强的数值进行买入，这照算算前视偏差！



## 数据源的粒度问题 (The Data Granularity Problem)
这是最致命的现实问题。你从数据服务商那里获取的ann_date（公告日期）字段，它告诉你的是公告的日期，但绝大多数情况下，它不提供精确到时分秒的时间戳。

你看到 ann_date = '2025-08-22'。

你无法从这个数据中区分，这份公告是在 2025-08-22 10:30:00（盘中）发布的，还是在 2025-08-22 17:30:00（盘后）发布的。

但是很多基本数据 比如close high pe 都是收盘那一刻就定出的数据

所以我分了两类：
基础日类
事件/公告类



--为什么要分类：
    --我目前能想到一点：可能晚上11点发布的公告。你也打在t日标签。

    但是t日这天收盘价异常的高！

    但是回测系统精确到这一天 不能精确到时间，他会误以为 是这个公告导致拉升收盘价，导致后续错误判断？
